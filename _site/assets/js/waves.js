var waves=function(){"use strict";function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function r(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var i,r,a=[],o=!0,s=!1;try{for(e=e.call(t);!(o=(i=e.next()).done)&&(a.push(i.value),!n||a.length!==n);o=!0);}catch(t){s=!0,r=t}finally{try{o||null==e.return||e.return()}finally{if(s)throw r}}return a}(t,n)||o(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,n){if(t){if("string"==typeof t)return s(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(t,n):void 0}}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function u(t,n,e,i){var r=(i-e)*n;return(t-=.5*r)<e?t=e:t+r>i&&(t=i-r),t+Math.random()*r}function h(t,n,e){return Math.min(n,Math.max(e,t))}function l(t,n){for(var e=document.createElementNS("http://www.w3.org/2000/svg",t),i=0,a=Object.entries(n);i<a.length;i++){var o=r(a[i],2),s=o[0],u=o[1];e.setAttributeNS(null,s,u)}return e}var c={fills:{value:["rgba(0, 0, 0, 0.65)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.5)"]},flowRate:{value:6,range:[0,50]},swayRate:{value:3.2,range:[0,5]},wavelength:{value:14,range:[1,20]},complexity:{value:6,range:[1,10]},curviness:{value:.8,range:[0,1]},offset:{value:0,range:[0,1]},randomFlowRate:{value:0,range:[0,1]},randomWavelength:{value:0,range:[0,1]},randomHeight:{value:.4,range:[0,1]},swayVelocity:{value:.5,range:[0,1]},randomSwayRate:{value:.4,range:[0,1]},randomOffset:{value:0,range:[0,1]}};function f(t,n){var e=[],i=480;return t.forEach((function(r,a){var o=(r=JSON.parse(JSON.stringify(r))).points[r.points.length-1].y;o=a!=t.length-1?o<250?u(o,n,2,250):u(o,n,250,480):480,r.points.forEach((function(t,n){return t.y=0==n?i:o})),i=o,e.push(r)})),e}var y=function(){function t(e){var i=this;for(var r in n(this,t),e)this[r]=e[r];this.complexity=Math.round(e.complexity),this.swayRate=this.swayRate?501-Math.round(100*this.swayRate):0,this.period=u(1e3*this.wavelength,this.randomWavelength,500*this.wavelength,1500*this.wavelength),this.path=v.call(this);var a=this.path.clone().double().string,o=this.period/this.complexity,s=this.offset*this.id*o;s=u(s,this.randomOffset,0,2*o),this.svgEl=l("svg",{width:2*this.period,x:-s}),this.pathEl=l("path",{d:a,fill:this.fill,"shape-rendering":"geometricPrecision"}),this.svgEl.append(this.pathEl),this.swayRate&&function(){var t=i.path,n=i.path.clone().morph(i.swayVelocity),e=t.curve.map((function(t,e){return t.points.map((function(t,i){var r=t.y,a=n.curve[e].points[i].y,o=r<a?1:-1;return(Math.max(r,a)-Math.min(r,a))*o}))}));i.swayDirection=1,i.swayIndex=0,i.swayPathStates=[{path:t,string:a}];for(var r=function(t){var n=1/i.swayRate*t,r=i.path.clone();r.curve.forEach((function(t,i){t.points.forEach((function(t,r){var a;t.y+=e[i][r]*((a=n)<.5?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1)}))})),i.swayPathStates.push({path:r,string:r.double().string})},o=1;o<i.swayRate;o++)r(o);i.swayPathStates.push({path:n,string:n.double().string})}()}return i(t,[{key:"x",get:function(){return Number(this.svgEl.getAttribute("x"))},set:function(t){this.svgEl.setAttribute("x",t)}},{key:"animationStep",value:function(){this.flowStep(),this.swayStep()}},{key:"flowStep",value:function(){if(this.flowRate){var t=this.x-this.flowRate;t<-this.period&&(t+=this.period),this.x=t}}},{key:"swayStep",value:function(){if(this.swayPathStates){(this.swayIndex==this.swayPathStates.length-1||-1==this.swayDirection&&0==this.swayIndex)&&(this.swayDirection=0-this.swayDirection);var t=this.swayPathStates[this.swayIndex];this.path=t.path,this.pathEl.setAttribute("d",t.string),this.swayIndex+=this.swayDirection}}}]),t}();function v(){var t=this,n=2*this.complexity,e=this.period/n,i=Array(n).fill(e).map((function(t,n){return t*(n+1)})),r=480,a=480;return i=i.map((function(n){var i,o,s=(i=0,o=230,Math.floor(i+Math.random()*(o-i+1))*t.randomHeight);r=Math.round(n)!=Math.round(t.period)?r<250?480-s:2+s:480;var u={cmd:"C",points:[{x:n-e+e*t.curviness,y:a},{x:n-e*t.curviness,y:r},{x:n,y:r}]};return a=r,u})),new p({open:[{cmd:"M",points:[{x:0,y:480}]}],curve:i,close:[{cmd:"V",points:[{y:500}]},{cmd:"H",points:[{y:0}]},{cmd:"Z"}]})}var p=function(){function t(e){n(this,t),this.open=e.open,this.curve=e.curve,this.close=e.close}return i(t,[{key:"double",value:function(){var t,n,e,i;return this.curve=this.curve.concat((t=this.curve,n="x",e=this.curve[this.curve.length-1].points[2].x,i=[],t.forEach((function(t){(t=JSON.parse(JSON.stringify(t))).points&&t.points.forEach((function(t){void 0!==t[n]&&(t[n]+=e)})),i.push(t)})),i),this.close),this}},{key:"morph",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.curve=f(this.curve,t),this}},{key:"clone",value:function(){return new t(JSON.parse(JSON.stringify({open:this.open,curve:this.curve,close:this.close})))}},{key:"string",get:function(){return this.open.concat(this.curve,this.close).map((function(t){return t.cmd+" "+(t.points?t.points.map((function(t){return(void 0===t.x?"":Number(t.x.toFixed(1)))+" "+(void 0===t.y?"":Number(t.y.toFixed(1)))})).join(" "):"")})).join(" ")}}]),t}();function m(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof m))return new m(e);for(var i=0,o=Object.entries(c);i<o.length;i++){var s=r(o[i],2),l=s[0],f=s[1],v=e[l],p=f.value;null==v||t(v)!=t(p)?this[l]=p:f.range?this[l]=h.apply(void 0,a(f.range).concat([v])):this[l]=v}this.curviness*=.5,this.randomSwayRate*=.5,this.offset/=this.fills.length,this.waves=[];for(var d=function(t){var e={id:t+1,randomHeight:n.randomHeight,offset:n.offset,curviness:n.curviness,wavelength:n.wavelength,randomWavelength:n.randomWavelength,fill:n.fills[t],randomOffset:n.randomOffset,swayVelocity:n.swayVelocity,complexity:n.complexity};Array("flowRate","swayRate").forEach((function(t){e[t]=n[t]>0?u(n[t],n["random"+t.charAt(0).toUpperCase()+t.slice(1)],c[t].range[0],c[t].range[1]):0}));var i=new y(e);n.waves.push(i)},g=0;g<this.fills.length;g++)d(g);this.animation={isPlaying:!1}}return m.prototype={mount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#waves";if("string"==typeof t&&(t=document.querySelector(t)),!t||1!==t.ELEMENT_NODE)return console.error("waves: can't mount"),!1;var n=l("svg",{viewBox:"0 0 1000 500",width:"100%",height:"100%",preserveAspectRatio:"none"});return t.innerHTML="",this.waves.forEach((function(t){return n.append(t.svgEl)})),t.append(n),this.play(),this.mounted=n,this},play:function(){var t=this;return!this.animation.isPlaying&&(this.flowRate||this.swayRate&&this.swayVelocity)?(this.animation.request=window.requestAnimationFrame((function(){return t.animationStep()})),this.animation.isPlaying=!0,this):this},stop:function(){return this.animation.isPlaying?(window.cancelAnimationFrame(this.animation.request),this.animation.isPlaying=!1,this.waves.forEach((function(t){return t.svgEl.pauseAnimations()})),this):this},animationStep:function(){this.waves.forEach((function(t){return t.animationStep()})),this.animation.request=window.requestAnimationFrame(this.animationStep.bind(this))}},m}();
